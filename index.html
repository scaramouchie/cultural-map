<script>
  fetch('cultural-map.svg')
    .then(response => response.text())
    .then(svgText => {
      const container = document.getElementById('svg-container');
      container.innerHTML = svgText;

      const svgElement = container.querySelector('svg');
      if (!svgElement) {
        container.innerText = "⚠️ SVG not found or invalid.";
        return;
      }

      svgElement.removeAttribute('width');
      svgElement.removeAttribute('height');
      svgElement.setAttribute('preserveAspectRatio', 'xMidYMid meet');

      if (!svgElement.hasAttribute('viewBox')) {
        const bbox = svgElement.getBBox();
        svgElement.setAttribute('viewBox', `${bbox.x} ${bbox.y} ${bbox.width} ${bbox.height}`);
      }

      svgPanZoom(svgElement, {
        zoomEnabled: true,
        controlIconsEnabled: true,
        fit: true,
        center: true,
        minZoom: 0.01,
        maxZoom: 100,
        zoomScaleSensitivity: 0.3,   /* <-- Updated here */
        panEnabled: true
      });
    })
    .catch(error => {
      const container = document.getElementById('svg-container');
      container.innerText = '❌ Error loading SVG.';
      console.error(error);
    });
</script>

